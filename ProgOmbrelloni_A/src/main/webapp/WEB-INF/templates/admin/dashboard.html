<!DOCTYPE html>
<html lang="it" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dashboard Admin - Lido Codici Sballati</title>
    <link rel="stylesheet" th:href="@{/assets/css/stile.css}">
    <style>
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .kpi-card {
            background: rgba(255,255,255,0.6);
            border-radius: 16px;
            padding: 24px 20px;
            text-align: center;
            border: 1px solid rgba(255,255,255,0.5);
            box-shadow: 0 4px 15px rgba(93,64,55,0.1);
        }
        .kpi-card .kpi-label {
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #8d6e63;
            margin-bottom: 8px;
        }
        .kpi-card .kpi-value {
            font-size: 2.4rem;
            font-weight: 900;
            color: #3e2723;
            line-height: 1;
        }
        .kpi-card .kpi-sub {
            font-size: 0.85rem;
            color: #8d6e63;
            margin-top: 6px;
        }
        .kpi-card.highlight { background: linear-gradient(135deg, rgba(216,67,21,0.15), rgba(191,54,12,0.1)); border-color: rgba(216,67,21,0.3); }
        .kpi-card.highlight .kpi-value { color: #d84315; }
        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        .action-card {
            background: rgba(255,255,255,0.5);
            border-radius: 16px;
            padding: 24px;
            border: 1px solid rgba(255,255,255,0.4);
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .action-card .action-title { font-weight: 700; color: #3e2723; font-size: 1.1rem; }
        .action-card .action-desc { font-size: 0.9rem; color: #5d4037; flex: 1; }
    </style>
</head>
<body class="glass-ui">
<div class="container">
    <header><h1>Pannello Amministratore</h1></header>
    <nav>
        <a th:href="@{/admin/dashboard}" class="active">Dashboard</a>
        <a th:href="@{/admin/gestione_tariffe}">Gestione Tariffe</a>
        <a th:href="@{/admin/gestione_date}">Gestione Date</a>
        <a th:href="@{/}" target="_blank">Vai al Sito</a>
        <a th:href="@{/auth/admin_logout}">Logout</a>
    </nav>
    <main>
        <div class="glass-panel">
            <h2 style="margin-top: 0;">Riepilogo Stagione</h2>

            <!-- KPI Cards -->
            <div class="kpi-grid">
                <div class="kpi-card highlight">
                    <div class="kpi-label">Prenotazioni Oggi</div>
                    <div class="kpi-value" th:text="${prenotazioniOggi != null ? prenotazioniOggi : '‚Äî'}">‚Äî</div>
                    <div class="kpi-sub">ombrelloni prenotati</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Ombrelloni Totali</div>
                    <div class="kpi-value" th:text="${totaleOmbrelloni != null ? totaleOmbrelloni : '‚Äî'}">‚Äî</div>
                    <div class="kpi-sub">disponibili a sistema</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Clienti Registrati</div>
                    <div class="kpi-value" th:text="${totaleClienti != null ? totaleClienti : '‚Äî'}">‚Äî</div>
                    <div class="kpi-sub">profili attivi</div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Incasso Stagione</div>
                    <div class="kpi-value" th:text="${incassoStagione != null ? incassoStagione + ' ‚Ç¨' : '‚Äî'}">‚Äî</div>
                    <div class="kpi-sub">prenotazioni confermate</div>
                </div>
            </div>

            <!-- Azioni Rapide -->
            <h2>Azioni Rapide</h2>
            <div class="actions-grid">
                <div class="action-card">
                    <div class="action-title">üóìÔ∏è Apertura Stagione</div>
                    <div class="action-desc">Genera la disponibilit√† degli ombrelloni per un nuovo periodo stagionale.</div>
                    <a th:href="@{/admin/gestione_date}" class="button" style="text-align: center;">Gestisci Date</a>
                </div>
                <div class="action-card">
                    <div class="action-title">üí∞ Gestione Listino</div>
                    <div class="action-desc">Aggiorna i prezzi dei pacchetti (VIP, Standard, Giornaliero, Settimanale).</div>
                    <a th:href="@{/admin/gestione_tariffe}" class="button" style="text-align: center;">Gestisci Tariffe</a>
                </div>
            </div>
        </div>
    </main>
    <footer>¬© 2026 - Gestione Lido Codici Sballati</footer>
</div>
</body>
</html>
